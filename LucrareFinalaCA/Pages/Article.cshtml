@page "{qid?}"
@model LucrareFinalaCA.ArticleModel
@{
    ViewData["Title"] = "Article";
}


@if (Model.IsbyId)
{
    <h1>@Model.Article.Title</h1>
    <h2>@Model.Article.Author</h2>
    <img class="img-responsive" src="data:image;base64,@Convert.ToBase64String(@Model.Article.Image)" />
    <div>
        @Model.Article.ArticleText
    </div>
}
else
{
    <form method="Post" class="col-xs-12" enctype="multipart/form-data">
        <div class="col-xs-12">
            @foreach (var article in Model.Articles)
            {
                <div class="col-xs-12 card shadow">
                    <div class="col-xs-12 card-top-section">
                        <div class="col-xs-3">
                            <div class="col-xs-12 zoom spanner">
                                <img class="img-responsive img-article-thumbnail" src="data:image;base64,@Convert.ToBase64String(article.Image)" />
                                <a href="/Article/@article.Id">
                                    <span class="linkSpanner"></span>
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-8 col-xs-offset-1">
                            <div class="col-xs-12 ">
                                <h2> @article.Title </h2>
                            </div>
                            <div class="col-xs-6 article-preview">
                                @article.ArticleText
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 card-bottom-section">
                        <a href="/EditArticle/@article.Id">Edit</a>
                        <a href="/Article/@article.Id">Details</a>
                        <button type="submit"  asp-page-handler="delete" asp-route-id="@article.Id">
                            <Button.ContentTemplate>
                                <DataTemplate>
                                    <Viewbox>
                                        <TextBlock class="text-center">Delete</TextBlock>
                                    </Viewbox>
                                </DataTemplate>
                            </Button.ContentTemplate>
                        </button>
                    </div>
                </div>
            }
        </div>
    </form>
}
